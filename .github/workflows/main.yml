name: Static Analysis and Testing

on: [ push, pull_request ]

jobs:
  main:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Setup
        run: |
          flutter pub get
          flutter pub run build_runner build
      - name: Static Analysis
        run: flutter analyze
      - name: Unit Tests
        run: flutter test test/unit
      - name: Widget Tests
        run: flutter test test/widget